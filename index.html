<!DOCTYPE HTML> 
<html>
<head>
<meta charset="UTF-8">

<title>Insert title here</title>
<script src="lib/Healpix/Xyf.js"></script>
<script src="lib/Healpix/Vec3.js"></script>
<script src="lib/Healpix/Pointing.js"></script> 
<script src="lib/Healpix/Hploc.js"></script>
<script src="lib/Healpix/Fxyf.js"></script>
<script src="lib/Healpix/Healpix.js"></script> 

<script src="lib/utils/webgl-debug.js"></script>

<script src="lib/glMatrix/glMatrix.js"></script>

<script src="FabViewer.js"></script>
<script id="shader-vs" type="x-shader/x-vertex">
	attribute vec3 aVertexPosition;
	attribute vec2 aTextureCoordinates;
  
	uniform mat4 uMVMatrix;
	uniform mat4 uPMatrix;
  
  	varying vec2 vTextureCoordinates;

	void main() {
		gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
		vTextureCoordinates = aTextureCoordinates;
	}
</script>

<script id="shader-fs" type="x-shader/x-fragment">
  	precision mediump float;
  
	varying vec2 vTextureCoordinates;
	//uniform sampler2D uSampler;
	uniform sampler2D uSampler0;
	uniform sampler2D uSampler1;

  	void main() {
		//gl_FragColor = texture2D(uSampler, vTextureCoordinates);
		
		
		vec4 color0 = texture2D(uSampler0, vTextureCoordinates);
		vec4 color1 = texture2D(uSampler1, vTextureCoordinates);
		//gl_FragColor = vec4(color0.rgb, 0.5) * color1;
		gl_FragColor = mix(vec4(color0.rgb, 0.8), color1, 0.5);
		
  	} 
</script>

<script type="text/javascript">
function changeSky(sky){
	if (sky.checked){
		console.log(sky.value);	
		changeSkyURL(sky.value);
	}
}
</script>

<body onload="startup();">

	<div id='container' style="border: 1px solid black;" >

  	</div>
  	<div id='controls' style="z-index: 10; position: absolute; color: blue; width: 400px; right: 10px; ">
	  	<div id="coords">
	  		coords: --
	  	</div>
	  	<div id="coordsHMS">
	  		coordsHMS: --
	  	</div>
	  	<div id="fov">
	  		fov: --
	  	</div>
	  	<div id="skies">
	  		<input type="checkbox" onclick="changeSky(this);" name="hips" value="http://skies.esac.esa.int/DSSColor/" checked>DSS2 Color<br>
	  		<input type="checkbox" onclick="changeSky(this);" name="hips" value="http://alasky.u-strasbg.fr/MellingerRGB/" >Mellinger RGB<br>
	  	</div>
  	</div>
  	
  	
</body>
</html>

